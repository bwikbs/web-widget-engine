<html>
 <head>
  <title>Document</title>
  <script>
    function errorHandling(e) {
        if (e.target.readyState == 3) {
            console.log('error - ', e);
            e.target.abort();
        }
    }
    function getDataFromNetwork(file, handler) {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', file, true);
        xhr.setRequestHeader("Cache-Control", "no-cache");
        xhr.onreadystatechange = handler;
        xhr.onload = function() {
            if (this.status == 200) {
                console.log (this.response);
            }
        };
        xhr.send();
    }
 
    /*
    function handleResponseXML(e) {
        if (e.target.readyState == 4 ) {
            if( e.target.status == 200) {
                var xmlDoc = e.target.responseXML;
                var employee = xmlDoc.getElementsByTagName("employee")[0];
                var firstName = employee.getElementsByTagName("firstName")[0].childNodes[0].nodeValue;
                var lastName = employee.getElementsByTagName("lastName")[0].childNodes[0].nodeValue;
                document.getElementById("result").innerHTML = firstName + "<br>" + lastName;
            }
            else {
                errorHandling(e);
            }
        }
    }*/
 
    function handleResponseTEXT(e) {
        if (e.target.readyState == 4) {
            if (e.target.status == 200) {
                document.getElementById("result").textContent = e.target.responseText;
            }
            else {
                errorHandling(e);
            }
        }
    }
    function handleResponseJSON(e) {
        if (e.target.readyState == 4) {
            if (e.target.status == 200) {
                var data = JSON.parse(e.target.responseText);
                var val = data.employees;
                var result = val[0].firstName + " " + val[0].lastName;
                document.getElementById("result").textContent = result;
            }
            else {
                errorHandling(e);
            }
        }
    }
  </script>
 </head>
 <body>
   <button id="button1" onclick="getDataFromNetwork('txt.txt', handleResponseTEXT);">Text</button>
   <button id="button2" onclick="getDataFromNetwork('json.json', handleResponseJSON);">Json</button>
   <!--<button id="button3" onclick="getDataFromNetwork('xml.xml', handleResponseXML);">XML</button>-->
   <div id="result"></div>
 </body>
</html>
