<?xml version="1.0" encoding="UTF-8"?>
<HTMLDocument>
  <node nodeType="9" localName="document">
    <node nodeType="10" localName="documentType">
    </node>
    <node nodeType="1" localName="html">
      <node nodeType="1" localName="head">
        <node nodeType="3" localName="text">
          <text><![CDATA[
  ]]></text>
        </node>
        <node nodeType="1" localName="style" type="text/css">
          <node nodeType="3" localName="text">
            <text><![CDATA[
  ]]></text>
          </node>
        </node>
        <node nodeType="3" localName="text">
          <text><![CDATA[
]]></text>
        </node>
      </node>
      <node nodeType="3" localName="text">
        <text><![CDATA[

]]></text>
      </node>
      <node nodeType="1" localName="body">
        <node nodeType="3" localName="text">
          <text><![CDATA[
  ]]></text>
        </node>
        <node nodeType="1" localName="div" id="idText">
          <node nodeType="3" localName="text">
            <text><![CDATA[
    div1
  ]]></text>
          </node>
        </node>
        <node nodeType="3" localName="text">
          <text><![CDATA[
  ]]></text>
        </node>
        <node nodeType="1" localName="div" class="classText">
          <node nodeType="3" localName="text">
            <text><![CDATA[
    div2
    ]]></text>
          </node>
        </node>
        <node nodeType="3" localName="text">
          <text><![CDATA[


]]></text>
        </node>
        <node nodeType="1" localName="script" type="text/javascript">
          <node nodeType="3" localName="text">
            <text><![CDATA[
  function run() {

    print("*********** XHR Simple Event TEST 1 *****************");

    function onLoadHandler() {
      print("*** load event ***"+" ReadyState:"+this.readyState)
      print(this.response);
      print(this.getAllResponseHeaders());
      print(this.timeout);
    }
    function onLoadStartHandler() {
      print("*** loadstart event ***"+" ReadyState:"+this.readyState);
    }
    function onErrorHandler() {
      print("*** error event ***"+" ReadyState:"+this.readyState)
    }
    function onLoadendHandler() {
      print("*** loadend event ***"+" ReadyState:"+this.readyState)
    }


    var xhr = new XMLHttpRequest();
    print(" ReadyState:"+xhr.readyState)
    xhr.addEventListener("load", onLoadHandler);
    xhr.addEventListener("loadstart", onLoadStartHandler);
    xhr.addEventListener("loadend", onLoadendHandler);
    xhr.addEventListener("error", onErrorHandler);

    xhr.open("GET", "https://httpbin.org/get");
    print(" ReadyState:"+xhr.readyState)
    xhr.send();

    xhr.open("GET", "http://nothing");
    xhr.send();

    print("*********** XHR Simple Event TEST 2 *****************");

    var xhr2 = new XMLHttpRequest();
    xhr2.open("GET", "https://httpbin.org/get");
    xhr2.onloadstart=onLoadStartHandler;
    xhr2.onload=onLoadHandler;
    xhr2.onerror=onErrorHandler;
    xhr2.onloadend=onLoadendHandler;

    xhr2.open("GET", "https://httpbin.org/get");
    xhr2.send();

    xhr2.open("GET", "http://nothing");
    xhr2.send();

    print("*********** XHR Simple Event TEST 3 *****************");

    var xhr3 = new XMLHttpRequest();
    xhr3.open("GET", "https://httpbin.org/get");
    xhr3.onloadstart=onLoadStartHandler;
    xhr3.onload=onLoadHandler;
    xhr3.onerror=onErrorHandler;
    xhr3.onloadend=onLoadendHandler;
    xhr3.timeout=10;

    xhr3.open("GET", "https://httpbin.org/get");
    xhr3.send();

    print("************* Done *******************");
  }
  run();
]]></text>
          </node>
        </node>
        <node nodeType="3" localName="text">
          <text><![CDATA[


]]></text>
        </node>
      </node>
    </node>
  </node>
</HTMLDocument>
