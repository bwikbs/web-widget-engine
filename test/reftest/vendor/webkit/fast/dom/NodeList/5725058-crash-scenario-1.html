<p>Test for (rdar://problem/5725058). If you see this text, then all is well and no crash has occurred.</p>

<span>
    <div id='test'></div>
</span>
<script type='text/javascript'>
    if (window.testRunner)
        testRunner.dumpAsText();

    function triggerGarbageCollection()
    {
        if (window.GCController) {
            GCController.collect();
            return;
        }
        for (var i = 0; i < 10000; ++i)
            ({})
    }

    var d = document.getElementById('test');
    triggerGarbageCollection();
    document.getElementsByTagName('span')[0].removeChild(d);
    triggerGarbageCollection();
    document.getElementById('test');
</script>
